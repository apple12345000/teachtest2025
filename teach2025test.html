<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•æ•™æ¡ˆï¼šä»˜éŒ¢å°é«˜æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals with Teal Accent -->
    <!-- Application Structure Plan: The application is structured as a two-part interactive challenge, mirroring the lesson plan's core activities. Part 1 focuses on 'Comparison' (comparing two different ways to pay the same amount), and Part 2 on 'Problem-Solving' (finding the correct way to pay a specific amount). This task-oriented, game-like structure is more engaging for second graders than a static report. Navigation tabs allow users to switch between challenges, giving them control over their learning pace. This design prioritizes active exploration and immediate feedback to enhance understanding and retention. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Comparing payment for 124å…ƒ; Paying exactly 132å…ƒ.
        - Goal: Compare, Organize, Solve.
        - Viz/Presentation Method: Interactive side-by-side comparison cards and a "digital wallet" activity. All visual elements, like coins, are created using styled HTML divs and Tailwind CSS to avoid external images or SVG.
        - Interaction: In Challenge 1, users click a button to reveal the total amount, reinforcing that different coin combinations can have the same value. In Challenge 2, users click on coins to "pay," with the total updating dynamically, providing a hands-on, game-like experience with instant feedback.
        - Justification: These interactive methods turn passive learning into active problem-solving, which is more effective for the target age group. They directly simulate the real-world application of the math concepts.
        - Library/Method: Vanilla JavaScript for logic, Tailwind CSS for styling.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }
        .coin {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #4A5568;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .coin:hover {
            transform: scale(1.1);
        }
        .bill {
            width: 120px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #0d9488; /* teal-600 */
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .feedback-modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-amber-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-teal-800">ä»˜éŒ¢å°é«˜æ‰‹</h1>
            <p class="mt-2 text-lg text-gray-600">è®“æˆ‘å€‘ä¸€èµ·ä¾†æŒ‘æˆ°ï¼Œçœ‹çœ‹ä½ å°éŒ¢å¹£æœ‰å¤šäº†è§£ï¼</p>
        </header>

        <nav class="flex justify-center gap-2 md:gap-4 mb-8">
            <button id="nav-challenge1" class="nav-btn active text-base md:text-lg font-semibold py-2 px-4 md:px-6 rounded-full bg-white shadow-md">ç¬¬ä¸€é—œï¼šæ¯”æ¯”çœ‹</button>
            <button id="nav-challenge2" class="nav-btn text-base md:text-lg font-semibold py-2 px-4 md:px-6 rounded-full bg-white shadow-md">ç¬¬äºŒé—œï¼šå‰›å¥½æ€éº¼ä»˜ï¼Ÿ</button>
        </nav>

        <main>
            <!-- Challenge 1: Comparison -->
            <section id="challenge1">
                <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h2 class="text-2xl md:text-3xl font-bold text-center text-teal-700 mb-2">æƒ…å¢ƒï¼šä»–å€‘ä»˜çš„éŒ¢ä¸€æ¨£å¤šå—ï¼Ÿ</h2>
                    <p class="text-center text-gray-600 mb-8">çš®çš®å’Œä¸¹ä¸¹è²·äº†åŒä¸€å€‹æ±è¥¿ï¼Œä»–å€‘ç”¨ä¸åŒçš„æ–¹æ³•ä»˜éŒ¢ã€‚ä½ è¦ºå¾—ä»–å€‘ä»˜çš„éŒ¢ä¸€æ¨£å¤šå—ï¼Ÿ</p>
                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Pipi's Card -->
                        <div class="bg-orange-50 p-6 rounded-xl border border-orange-200">
                            <h3 class="text-xl font-bold text-orange-800 mb-4">çš®çš®çš„ä»˜æ³•ï¼š</h3>
                            <div class="flex flex-wrap items-center gap-3 mb-4">
                                <div class="bill bg-red-200 border-2 border-red-400 text-red-800">100 å…ƒ</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                            </div>
                            <p class="text-gray-700">çš®çš®èªªï¼šã€Œæˆ‘ä»˜äº† 1 å¼µä¸€ç™¾å…ƒã€2 å€‹åå…ƒã€å’Œ 4 å€‹ä¸€å…ƒã€‚ã€</p>
                            <div class="text-center mt-6">
                                <p class="text-2xl font-bold text-orange-800 h-8" id="pipi-total"></p>
                            </div>
                        </div>
                        <!-- Dandan's Card -->
                        <div class="bg-sky-50 p-6 rounded-xl border border-sky-200">
                            <h3 class="text-xl font-bold text-sky-800 mb-4">ä¸¹ä¸¹çš„ä»˜æ³•ï¼š</h3>
                            <div class="flex flex-wrap items-center gap-3 mb-4">
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-slate-200 border-2 border-slate-400">10</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                                <div class="coin bg-yellow-300 border-2 border-yellow-500">1</div>
                            </div>
                            <p class="text-gray-700">ä¸¹ä¸¹èªªï¼šã€Œæˆ‘ä»˜äº† 12 å€‹åå…ƒå’Œ 4 å€‹ä¸€å…ƒã€‚ã€</p>
                             <div class="text-center mt-6">
                                <p class="text-2xl font-bold text-sky-800 h-8" id="dandan-total"></p>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mt-8">
                         <button id="check-total-btn" class="bg-teal-500 text-white font-bold py-3 px-8 rounded-full hover:bg-teal-600 transition-colors shadow-lg">æŸ¥çœ‹ç¸½æ•¸</button>
                    </div>
                    <div id="conclusion" class="hidden text-center mt-6 p-4 bg-emerald-100 border-l-4 border-emerald-500 rounded-lg">
                        <p class="text-xl font-semibold text-emerald-800">æ²’éŒ¯ï¼ä»–å€‘ä»˜çš„éŒ¢éƒ½æ˜¯ <span class="font-bold">124 å…ƒ</span>ï¼Œä¸€æ¨£å¤šå–”ï¼</p>
                        <p class="text-gray-700 mt-1">é€™å‘Šè¨´æˆ‘å€‘ï¼Œ<strong class="text-emerald-900">10 å€‹åå…ƒ</strong>å¯ä»¥æ›æˆ<strong class="text-emerald-900">1 å¼µä¸€ç™¾å…ƒ</strong>ï¼</p>
                    </div>
                </div>
            </section>

            <!-- Challenge 2: Exact Payment -->
            <section id="challenge2" class="hidden">
                 <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                    <h2 class="text-2xl md:text-3xl font-bold text-center text-teal-700 mb-2">æƒ…å¢ƒï¼šè²·ä¸€ç›’å½©è‰²é‰›ç­†</h2>
                    <p class="text-center text-gray-600 mb-6">ç¾ç¾æƒ³è²·ä¸€ç›’å½©è‰²é‰›ç­†ï¼Œé€™ç›’é‰›ç­†è¦ <strong class="text-rose-600 text-xl">132å…ƒ</strong>ã€‚è«‹å¾ä¸‹é¢çš„éŒ¢åŒ…è£¡æ‹¿å‡ºå‰›å¥½çš„éŒ¢å§ï¼</p>
                    
                    <div class="bg-gray-100 p-4 rounded-xl mb-6">
                        <h3 class="font-bold text-lg mb-3 text-center text-gray-700">ä½ çš„éŒ¢åŒ…</h3>
                        <div class="flex flex-wrap justify-center items-center gap-3">
                            <div class="coin wallet-coin bg-red-200 border-2 border-red-400" data-value="100">100</div>
                            <div class="coin wallet-coin bg-green-200 border-2 border-green-400" data-value="50">50</div>
                            <div class="coin wallet-coin bg-green-200 border-2 border-green-400" data-value="50">50</div>
                            <div class="coin wallet-coin bg-slate-200 border-2 border-slate-400" data-value="10">10</div>
                            <div class="coin wallet-coin bg-slate-200 border-2 border-slate-400" data-value="10">10</div>
                            <div class="coin wallet-coin bg-slate-200 border-2 border-slate-400" data-value="10">10</div>
                            <div class="coin wallet-coin bg-orange-200 border-2 border-orange-400" data-value="5">5</div>
                            <div class="coin wallet-coin bg-orange-200 border-2 border-orange-400" data-value="5">5</div>
                            <div class="coin wallet-coin bg-yellow-300 border-2 border-yellow-500" data-value="1">1</div>
                            <div class="coin wallet-coin bg-yellow-300 border-2 border-yellow-500" data-value="1">1</div>
                            <div class="coin wallet-coin bg-yellow-300 border-2 border-yellow-500" data-value="1">1</div>
                        </div>
                    </div>

                    <div class="bg-indigo-50 p-4 rounded-xl border-2 border-dashed border-indigo-200 min-h-[100px] mb-4">
                         <h3 class="font-bold text-lg mb-3 text-center text-indigo-800">ä½ ä»˜çš„éŒ¢</h3>
                         <div id="payment-area" class="flex flex-wrap justify-center items-center gap-2"></div>
                         <div class="text-center mt-4 text-2xl font-black text-indigo-900">
                             ç¸½è¨ˆï¼š<span id="current-total">0</span> å…ƒ
                         </div>
                    </div>

                    <div class="flex justify-center gap-4 mt-6">
                        <button id="check-payment-btn" class="bg-teal-500 text-white font-bold py-3 px-8 rounded-full hover:bg-teal-600 transition-colors shadow-lg">æª¢æŸ¥ç­”æ¡ˆ</button>
                        <button id="reset-payment-btn" class="bg-gray-400 text-white font-bold py-3 px-8 rounded-full hover:bg-gray-500 transition-colors">é‡ä¾†ä¸€æ¬¡</button>
                    </div>
                 </div>
            </section>
        </main>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="feedback-modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 opacity-0 pointer-events-none transform scale-95">
        <div class="bg-white rounded-2xl shadow-2xl p-8 text-center max-w-sm w-full">
            <p id="feedback-icon" class="text-6xl mb-4"></p>
            <p id="feedback-message" class="text-2xl font-bold text-gray-800"></p>
            <button id="close-modal-btn" class="mt-6 bg-teal-500 text-white font-bold py-2 px-6 rounded-full hover:bg-teal-600 transition-colors">çŸ¥é“äº†</button>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const challenge1 = document.getElementById('challenge1');
            const challenge2 = document.getElementById('challenge2');
            const navChallenge1 = document.getElementById('nav-challenge1');
            const navChallenge2 = document.getElementById('nav-challenge2');

            function showChallenge(challengeToShow) {
                challenge1.classList.add('hidden');
                challenge2.classList.add('hidden');
                navChallenge1.classList.remove('active');
                navChallenge2.classList.remove('active');

                if (challengeToShow === 'challenge1') {
                    challenge1.classList.remove('hidden');
                    navChallenge1.classList.add('active');
                } else {
                    challenge2.classList.remove('hidden');
                    navChallenge2.classList.add('active');
                }
            }

            navChallenge1.addEventListener('click', () => showChallenge('challenge1'));
            navChallenge2.addEventListener('click', () => showChallenge('challenge2'));

            // Challenge 1 Logic
            const checkTotalBtn = document.getElementById('check-total-btn');
            const pipiTotalEl = document.getElementById('pipi-total');
            const dandanTotalEl = document.getElementById('dandan-total');
            const conclusionEl = document.getElementById('conclusion');

            checkTotalBtn.addEventListener('click', () => {
                pipiTotalEl.textContent = 'å…± 124 å…ƒ';
                dandanTotalEl.textContent = 'å…± 124 å…ƒ';
                conclusionEl.classList.remove('hidden');
            });

            // Challenge 2 Logic
            const walletCoins = document.querySelectorAll('.wallet-coin');
            const paymentArea = document.getElementById('payment-area');
            const currentTotalEl = document.getElementById('current-total');
            const checkPaymentBtn = document.getElementById('check-payment-btn');
            const resetPaymentBtn = document.getElementById('reset-payment-btn');
            
            const feedbackModal = document.getElementById('feedback-modal');
            const feedbackIcon = document.getElementById('feedback-icon');
            const feedbackMessage = document.getElementById('feedback-message');
            const closeModalBtn = document.getElementById('close-modal-btn');


            const TARGET_AMOUNT = 132;
            let currentTotal = 0;
            let paidCoins = [];

            function updateTotal() {
                currentTotal = paidCoins.reduce((sum, coin) => sum + coin.value, 0);
                currentTotalEl.textContent = currentTotal;
            }

            function renderPaidCoins() {
                paymentArea.innerHTML = '';
                paidCoins.forEach((coin, index) => {
                    const coinEl = document.createElement('div');
                    coinEl.className = `${coin.el.className} cursor-pointer`;
                    coinEl.classList.remove('wallet-coin');
                    coinEl.textContent = coin.el.textContent;
                    coinEl.addEventListener('click', () => returnCoin(index));
                    paymentArea.appendChild(coinEl);
                });
            }

            function returnCoin(index) {
                const [returnedCoin] = paidCoins.splice(index, 1);
                returnedCoin.el.style.visibility = 'visible';
                renderPaidCoins();
                updateTotal();
            }

            walletCoins.forEach(coinEl => {
                coinEl.addEventListener('click', () => {
                    paidCoins.push({
                        value: parseInt(coinEl.dataset.value),
                        el: coinEl
                    });
                    coinEl.style.visibility = 'hidden';
                    renderPaidCoins();
                    updateTotal();
                });
            });
            
            function showFeedback(isCorrect) {
                if(isCorrect) {
                    feedbackIcon.textContent = 'ğŸ‰';
                    feedbackMessage.textContent = 'å¤ªæ£’äº†ï¼å‰›å¥½ 132 å…ƒï¼';
                } else {
                    feedbackIcon.textContent = 'ğŸ¤”';
                    feedbackMessage.textContent = `å–”å–”ï¼Œç¾åœ¨æ˜¯ ${currentTotal} å…ƒï¼Œä¸æ˜¯ 132 å…ƒå–”ï¼Œå†è©¦ä¸€æ¬¡ï¼`;
                }
                feedbackModal.classList.remove('opacity-0', 'pointer-events-none', 'scale-95');
            }

            checkPaymentBtn.addEventListener('click', () => {
                showFeedback(currentTotal === TARGET_AMOUNT);
            });

            closeModalBtn.addEventListener('click', () => {
                feedbackModal.classList.add('opacity-0', 'pointer-events-none', 'scale-95');
                if (currentTotal === TARGET_AMOUNT) {
                    resetPayment();
                }
            });

            function resetPayment() {
                paidCoins = [];
                walletCoins.forEach(c => c.style.visibility = 'visible');
                renderPaidCoins();
                updateTotal();
            }

            resetPaymentBtn.addEventListener('click', resetPayment);

            showChallenge('challenge1');
        });
    </script>
</body>
</html>
